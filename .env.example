# TMS Platform Environment Configuration
# Copy this file to .env and update with your actual values

# ===========================================
# APPLICATION CONFIGURATION
# ===========================================
NODE_ENV=development
PORT=3000
APP_NAME=TMS Platform
APP_VERSION=1.0.0
API_PREFIX=/api/v1

# ===========================================
# DATABASE CONFIGURATION
# ===========================================
# PostgreSQL Database
DB_HOST=localhost
DB_PORT=5432
DB_NAME=tms_platform
DB_USER=tms_user
DB_PASSWORD=tms_secure_password
DB_SSL=false
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_CONNECTION_TIMEOUT=30000

# Database URL (alternative format)
# DATABASE_URL=postgresql://tms_user:tms_secure_password@localhost:5432/tms_platform

# ===========================================
# REDIS CONFIGURATION
# ===========================================
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=redis_secure_password
REDIS_DB=0
REDIS_KEY_PREFIX=tms:
REDIS_TTL=3600

# Redis Cluster (if applicable)
# REDIS_CLUSTER_NODES=localhost:7000,localhost:7001,localhost:7002

# ===========================================
# JWT CONFIGURATION
# ===========================================
JWT_SECRET=your-super-secret-jwt-key-change-in-production-min-32-chars
JWT_REFRESH_SECRET=your-super-secret-refresh-key-change-in-production-min-32-chars
JWT_ISSUER=tms-platform
JWT_AUDIENCE=tms-api
JWT_EXPIRES_IN=1h
JWT_REFRESH_EXPIRES_IN=7d
JWT_ALGORITHM=HS256

# ===========================================
# AUTHENTICATION CONFIGURATION
# ===========================================
# OAuth2/OIDC Providers (choose one or both)
AUTH0_DOMAIN=your-tenant.auth0.com
AUTH0_CLIENT_ID=your-auth0-client-id
AUTH0_CLIENT_SECRET=your-auth0-client-secret
AUTH0_CALLBACK_URL=http://localhost:3000/auth/callback

# Keycloak Configuration
KEYCLOAK_URL=https://your-keycloak.com/auth
KEYCLOAK_REALM=tms-platform
KEYCLOAK_CLIENT_ID=tms-backend
KEYCLOAK_CLIENT_SECRET=your-keycloak-client-secret

# Password Security
BCRYPT_ROUNDS=12
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SYMBOLS=true

# ===========================================
# AWS CONFIGURATION
# ===========================================
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_SESSION_TOKEN=your-aws-session-token

# S3 Configuration
AWS_S3_BUCKET=tms-documents
AWS_S3_REGION=us-east-1
AWS_S3_ACL=private
AWS_S3_MAX_FILE_SIZE=10485760

# SES Configuration (Email)
AWS_SES_REGION=us-east-1
AWS_SES_FROM_EMAIL=noreply@tms-platform.com
AWS_SES_REPLY_TO_EMAIL=support@tms-platform.com

# ===========================================
# SECURITY CONFIGURATION
# ===========================================
# CORS Configuration
CORS_ORIGIN=http://localhost:3001,http://localhost:3000
CORS_CREDENTIALS=true
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_HEADERS=Content-Type,Authorization

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# Session Configuration
SESSION_SECRET=your-session-secret-change-in-production
SESSION_MAX_AGE=86400000
SESSION_SECURE=false
SESSION_HTTP_ONLY=true

# ===========================================
# LOGGING CONFIGURATION
# ===========================================
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE_PATH=./logs/app.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5
LOG_DATE_PATTERN=YYYY-MM-DD

# Structured Logging
LOG_CORRELATION_ID_HEADER=x-correlation-id
LOG_INCLUDE_REQUEST_ID=true
LOG_INCLUDE_USER_ID=true

# ===========================================
# MONITORING CONFIGURATION
# ===========================================
# Health Check
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000

# Metrics
METRICS_ENABLED=true
METRICS_PORT=9090
METRICS_PATH=/metrics

# APM (Application Performance Monitoring)
APM_SERVICE_NAME=tms-backend
APM_ENVIRONMENT=development
APM_SERVER_URL=http://localhost:8200

# ===========================================
# COMMUNICATION CONFIGURATION
# ===========================================
# Email Service
EMAIL_PROVIDER=ses
EMAIL_FROM=noreply@tms-platform.com
EMAIL_REPLY_TO=support@tms-platform.com
EMAIL_TEMPLATES_PATH=./templates/email

# SMS Service
SMS_PROVIDER=twilio
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# Webhooks
WEBHOOK_SECRET=your-webhook-secret
WEBHOOK_TIMEOUT=30000
WEBHOOK_RETRY_ATTEMPTS=3

# ===========================================
# BUSINESS CONFIGURATION
# ===========================================
# Shipment Configuration
SHIPMENT_REFERENCE_PREFIX=TMS
SHIPMENT_REFERENCE_LENGTH=4
SHIPMENT_AUTO_ASSIGN=false
SHIPMENT_DEFAULT_PRIORITY=standard

# Invoice Configuration
INVOICE_REFERENCE_PREFIX=INV
INVOICE_REFERENCE_LENGTH=4
INVOICE_PAYMENT_TERMS_DAYS=30
INVOICE_LATE_FEE_PERCENTAGE=1.5

# Carrier Configuration
CARRIER_DEFAULT_RATING=0.0
CARRIER_MIN_RATING=0.0
CARRIER_MAX_RATING=5.0
CARRIER_AUTO_APPROVAL=false

# ===========================================
# INTEGRATION CONFIGURATION
# ===========================================
# EDI Configuration
EDI_ENABLED=false
EDI_PARTNER_ID=your-edi-partner-id
EDI_QUALIFIER_ID=your-edi-qualifier-id

# GPS/ELD Integration
GPS_PROVIDER=geotab
GPS_API_KEY=your-gps-api-key
GPS_WEBHOOK_SECRET=your-gps-webhook-secret

# Payment Gateway
PAYMENT_PROVIDER=stripe
STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-key
STRIPE_SECRET_KEY=sk_test_your-stripe-secret
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# ===========================================
# DEVELOPMENT CONFIGURATION
# ===========================================
# Hot Reload
HOT_RELOAD=true
WATCH_FILES=true

# Debug Configuration
DEBUG_MODE=true
DEBUG_PORT=9229

# Test Configuration
TEST_DB_NAME=tms_platform_test
TEST_REDIS_DB=1

# ===========================================
# PRODUCTION OVERRIDES
# ===========================================
# Uncomment these for production deployment
# NODE_ENV=production
# LOG_LEVEL=warn
# DB_SSL=true
# SESSION_SECURE=true
# CORS_ORIGIN=https://app.tms-platform.com
# RATE_LIMIT_MAX_REQUESTS=50